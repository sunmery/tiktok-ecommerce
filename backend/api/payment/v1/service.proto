syntax = "proto3";

package payment.service.v1;

option go_package = "api/payment/v1;payment";

service PaymentService {
  rpc Charge(ChargeReq) returns (ChargeResp) {}
}

message CreditCardInfo {
  string number = 1;
  int32 cvv = 2;
  int32 expiration_year = 3;
  int32 expiration_month = 4;
}

message ChargeReq {
  float amount = 1;
  CreditCardInfo credit_card = 2;
  string order_id = 3;
  string user_id = 4;
}

message ChargeResp {
  string transaction_id = 1;
}

// 字段校验