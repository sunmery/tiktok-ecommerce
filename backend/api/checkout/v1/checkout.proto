syntax = "proto3";

package  ecommerce.checkout.v1;

import "google/api/annotations.proto";

import "backend/api/user/v1/user.proto";

option go_package = "backend/api/v1/checkout;checkoutv1";

service CheckoutService {
  rpc Checkout(CheckoutReq) returns (CheckoutResp) {
    option (google.api.http) = {
      post: "/v1/checkout"
      body: "*"
    };
  }
}

// firstname+lastname+email 允许非注册用户直接填写信息下单
message CheckoutReq {
  uint32 user_id = 1;
  string firstname = 2;
  string lastname = 3;
  string email = 4;
  user.v1.CreditCards credit_card = 6;
}

message CheckoutResp {
  string order_id = 1; // 唯一标识订单，用于后续查询、退换货。
  string transaction_id = 2;// 支付事务唯一标识，用于与支付网关对账。
}
